# 2026-01-23 Daily Log

## Projects
Built the [[nacre]] entity extraction pipeline today. Three extractors running in parallel: structural (regex-based for markdown syntax), NLP (**compromise.js** for named entities), and custom (domain-specific rules for tools and projects).

The structural extractor handles [[wikilinks]], **bold terms**, `code references`, and heading text. High precision, understands markdown structure.

The NLP extractor uses **compromise.js** — `.people()` catches names like Marcus and Sarah reliably. `.organizations()` is less reliable for tech entities. This is why we need the custom extractor too.

**Pat** asked about using nacre for the [[siphon]] project documentation. Interesting idea — it could map the API surface as a knowledge graph.

## Implementation
The custom extractor has a hardcoded list of known tools: Claude Code, Codex, Vite, tmux, Three.js, TypeScript, Docker, Playwright. Also handles GitHub URLs, hashtags, and scoped npm packages. Confidence scores differ by source — structural gets 0.9, NLP gets 0.6-0.8, custom gets 0.8-0.9. #architecture

Entity deduplication happens after extraction — group by normalized text, keep the highest confidence per group. Then resolution maps raw entities to canonical graph nodes.

## Tools
**Claude Code** helped write the regex patterns for wikilink and bold term extraction. Regex is one of those things where AI assistance really shines — the patterns are correct but non-obvious to write from scratch.

## Events
**All three extractors working** on real memory files. Running them on a sample file produced 15 raw entities which deduplicated down to 11 unique ones. Promising results.

## Lessons
**Confidence scores are essential for multi-source extraction** — when two extractors find the same entity, keep the higher confidence version. When only NLP finds something with low confidence, flag it for review rather than adding noise.
